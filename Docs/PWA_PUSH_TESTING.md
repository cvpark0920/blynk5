# iOS PWA Web Push 테스트 가이드 (상점앱)

이 문서는 iOS 비중 환경에서 상점앱 PWA + Web Push가 정상 동작하는지 확인하기 위한 최소 테스트 절차입니다.

## 사전 준비
- iOS 16.4 이상
- Safari에서 상점앱 접속 (예: `https://{subdomain}.qoodle.top/shop`)
- 백엔드에 VAPID 키 설정 (`VAPID_PUBLIC_KEY`, `VAPID_PRIVATE_KEY`, `VAPID_SUBJECT`)
- 관리자 앱에서 알림음을 업로드해 `notificationSoundUrl` 설정

## 설치/권한 테스트
1. Safari에서 상점앱 접속
2. 공유 버튼 → “홈 화면에 추가”로 설치
3. 홈 화면에서 상점앱 실행
4. 설정 > 알림 설정에서 **알림 활성화** 버튼 클릭
5. iOS 알림 권한 허용

## 수신 테스트 (백그라운드)
1. 상점앱을 백그라운드로 전환 (홈 버튼 or 스와이프)
2. 고객 앱에서 요청/채팅 메시지 전송
3. 새 주문 생성
4. iOS 알림 센터에 알림 수신 확인

## 포그라운드 사운드 테스트
1. 상점앱을 포그라운드 유지
2. 설정 > 알림 설정에서 **알림음 테스트** 실행
3. 요청/채팅/주문 이벤트 발생 시 사운드 재생 확인

## 체크 포인트
- iOS 백그라운드 알림은 시스템 기본 사운드 사용
- 포그라운드 사운드는 관리자 앱 업로드 알림음을 사용
- 알림 클릭 시 `/shop`으로 진입
